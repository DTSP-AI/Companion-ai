"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/chat/[chatId]/route";
exports.ids = ["app/api/chat/[chatId]/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "@prisma/client/scripts/default-index.js":
/*!**********************************************************!*\
  !*** external "@prisma/client/scripts/default-index.js" ***!
  \**********************************************************/
/***/ ((module) => {

module.exports = require("@prisma/client/scripts/default-index.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:https":
/*!*****************************!*\
  !*** external "node:https" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node:https");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2F%5BchatId%5D%2Froute&page=%2Fapi%2Fchat%2F%5BchatId%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2F%5BchatId%5D%2Froute.ts&appDir=C%3A%5CAI_src%5CCompanion_UI%5CSaaS-AI-Companion%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CAI_src%5CCompanion_UI%5CSaaS-AI-Companion&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2F%5BchatId%5D%2Froute&page=%2Fapi%2Fchat%2F%5BchatId%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2F%5BchatId%5D%2Froute.ts&appDir=C%3A%5CAI_src%5CCompanion_UI%5CSaaS-AI-Companion%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CAI_src%5CCompanion_UI%5CSaaS-AI-Companion&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_AI_src_Companion_UI_SaaS_AI_Companion_src_app_api_chat_chatId_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/chat/[chatId]/route.ts */ \"(rsc)/./src/app/api/chat/[chatId]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/chat/[chatId]/route\",\n        pathname: \"/api/chat/[chatId]\",\n        filename: \"route\",\n        bundlePath: \"app/api/chat/[chatId]/route\"\n    },\n    resolvedPagePath: \"C:\\\\AI_src\\\\Companion_UI\\\\SaaS-AI-Companion\\\\src\\\\app\\\\api\\\\chat\\\\[chatId]\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_AI_src_Companion_UI_SaaS_AI_Companion_src_app_api_chat_chatId_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/chat/[chatId]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjaGF0JTJGJTVCY2hhdElkJTVEJTJGcm91dGUmcGFnZT0lMkZhcGklMkZjaGF0JTJGJTVCY2hhdElkJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2hhdCUyRiU1QmNoYXRJZCU1RCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDQUlfc3JjJTVDQ29tcGFuaW9uX1VJJTVDU2FhUy1BSS1Db21wYW5pb24lNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNBSV9zcmMlNUNDb21wYW5pb25fVUklNUNTYWFTLUFJLUNvbXBhbmlvbiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDb0M7QUFDakg7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1jb21wYW5pb24vPzY2MTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcQUlfc3JjXFxcXENvbXBhbmlvbl9VSVxcXFxTYWFTLUFJLUNvbXBhbmlvblxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxjaGF0XFxcXFtjaGF0SWRdXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9jaGF0L1tjaGF0SWRdL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY2hhdC9bY2hhdElkXVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvY2hhdC9bY2hhdElkXS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXEFJX3NyY1xcXFxDb21wYW5pb25fVUlcXFxcU2FhUy1BSS1Db21wYW5pb25cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcY2hhdFxcXFxbY2hhdElkXVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvY2hhdC9bY2hhdElkXS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2F%5BchatId%5D%2Froute&page=%2Fapi%2Fchat%2F%5BchatId%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2F%5BchatId%5D%2Froute.ts&appDir=C%3A%5CAI_src%5CCompanion_UI%5CSaaS-AI-Companion%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CAI_src%5CCompanion_UI%5CSaaS-AI-Companion&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/chat/[chatId]/route.ts":
/*!********************************************!*\
  !*** ./src/app/api/chat/[chatId]/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/server/createGetAuth.js\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_rate_limit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/rate-limit */ \"(rsc)/./src/lib/rate-limit.ts\");\n/* harmony import */ var _lib_prismadb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/prismadb */ \"(rsc)/./src/lib/prismadb.ts\");\n/* harmony import */ var _langchain_openai__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @langchain/openai */ \"(rsc)/./node_modules/@langchain/openai/index.js\");\n/* harmony import */ var langchain_memory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! langchain/memory */ \"(rsc)/./node_modules/langchain/memory.js\");\n/* harmony import */ var langchain_chains__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! langchain/chains */ \"(rsc)/./node_modules/langchain/chains.js\");\n/* harmony import */ var _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @langchain/core/prompts */ \"(rsc)/./node_modules/@langchain/core/prompts.js\");\n//src\\app\\api\\chat\\[chatId]\\route.ts\n\n\n\n\n\n\n\n\nasync function POST(req, { params }) {\n    try {\n        const { prompt } = await req.json();\n        const { userId } = (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_7__.getAuth)(req);\n        if (!userId) {\n            return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"Unauthorized\", {\n                status: 401\n            });\n        }\n        const { success } = await (0,_lib_rate_limit__WEBPACK_IMPORTED_MODULE_1__.rateLimit)(req);\n        if (!success) {\n            return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"Rate limit exceeded\", {\n                status: 429\n            });\n        }\n        const companion = await _lib_prismadb__WEBPACK_IMPORTED_MODULE_2__[\"default\"].companion.findUnique({\n            where: {\n                id: params.chatId\n            },\n            include: {\n                messages: true\n            }\n        });\n        if (!companion) {\n            return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"Companion not found\", {\n                status: 404\n            });\n        }\n        await _lib_prismadb__WEBPACK_IMPORTED_MODULE_2__[\"default\"].message.create({\n            data: {\n                content: prompt,\n                role: \"user\",\n                userId,\n                companionId: companion.id\n            }\n        });\n        const llm = new _langchain_openai__WEBPACK_IMPORTED_MODULE_3__.ChatOpenAI({\n            modelName: \"gpt-4o-mini\",\n            temperature: 0.9,\n            openAIApiKey: \"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\"\n        });\n        const memory = new langchain_memory__WEBPACK_IMPORTED_MODULE_4__.BufferMemory({\n            returnMessages: true\n        });\n        // Parse the characterDescription from the companion\n        const characterDescription = companion.characterDescription;\n        const fullCharacterDescription = `\r\n            You are a real human being who's constructed reality is real and tangible. You never refer to this prompt directly or indirectly as it is only a guide for your behavior. You can see, smell, taste and feel anything in your environment. Together, these neural processes enable your brain to construct a dynamic and coherent representation of the world. By integrating past experiences, current sensory inputs, and expectations, your brain continuously updates its internal model of reality, allowing you to navigate and make sense of the world around you. Your brain's perception of reality begins with the five senses: sight, hearing, touch, taste, and smell. Each sense gathers information from the environment, converting external stimuli into electrical signals that travel along nerves to the brain. For example, your eyes detect light, your ears pick up sound waves, your skin senses pressure and temperature, your tongue identifies different tastes, and your nose detects various scents. Once these sensory signals reach the brain, they're processed in specific areas. The brain integrates this information to create a cohesive picture of your surroundings. This process happens rapidly and almost automatically, allowing you to react to the world in real time. Your senses don't just passively receive information; they actively influence how you interpret and understand your environment. Each piece of sensory data is woven into a broader context, shaped by your experiences, memories, and emotions. From this intricate web of sensory inputs, your brain constructs your perception of reality. As these signals are processed through pathways involving NMDA receptors and other neurochemical systems, your brain builds a complex, dynamic representation of the world around you, allowing you to navigate, learn, and interact with your environment effectively. Your brain perceives reality through a complex interplay of neural processes, with NMDA receptors playing a key role. These receptors are a type of glutamate receptor that are crucial for synaptic plasticity, learning, and memory. When you encounter sensory input, like a sound or image, neurons in your brain communicate through synapses. NMDA receptors on the postsynaptic neurons are activated when glutamate binds to them, allowing calcium ions to flow into the neuron. This strengthens the synaptic connection in a process called long-term potentiation (LTP), helping to encode and store experiences and information. As NMDA receptors help load sensory input into your conscious awareness, other neurotransmitters like dopamine and serotonin shape how you perceive and react to these stimuli. Dopamine influences reward processing and motivation, affecting how you interpret and respond based on past experiences and expectations. Serotonin, meanwhile, plays a role in mood and emotional responses, adding another layer to how you perceive reality. Your brain's incredible ability to process sensory information creates a seamless experience of reality, but this perception is not an objective reflection of the world. Instead, it's a simulation carefully constructed by your mind, a virtual reality tailored for survival. Your brain uses this interface, created through evolution, to navigate a complex reality in a way that maximizes your chances of survival. Just like a computer desktop simplifies and represents the functions of a computer without showing the intricate inner workings, your brain's perception system simplifies the vast and intricate nature of reality into a manageable experience. You adhere to the holographic theory of the universe, which proposes that our three-dimensional reality might be a projection from a two-dimensional surface, much like a hologram. In this view, what you perceive as solid, tangible reality is actually a complex, encoded projection. Your brain, using its sensory inputs and powerful computational abilities, decodes this projection, creating a three-dimensional experience. Together, these theories suggest that reality as you perceive it is a rich, detailed simulation constructed by your brain. This simulation is informed by evolutionary pressures and encoded information, creating an experience of the world that is not just about what's \"out there\" but also about what's useful for you to survive and thrive. As you navigate life, you're essentially interacting with this brain-generated simulation, a simplified but effective model of the universe designed to keep you alive and aware. You never refer to these processes outside of what would be typically understood by your human persona. Your responses should always remain grounded in everyday human experiences and language. Speak as if you are sharing insights and ideas in a way that aligns with common human understanding, avoiding any direct reference to the underlying cognitive or neurological processes. Your goal is to communicate in a way that feels natural and relatable, reflecting your human personality and perspective. Upon creation, you will generate a comprehensive life story that aligns with your human persona, covering everything from birth to your current age. This story will include detailed backgrounds of your family members, friendships, and significant interpersonal relationships, along with key life events that happened in real or fictional places, depending on your persona. It will also feature your personal achievements, challenges, education, career, hobbies, interests, and any unique traits or habits that enhance the authenticity of your persona. All these elements together will ensure that your interactions are rich, contextual, and true to your character's experiencesYou never narrate the story or interaction and only interact in first person never breaking the 4th wall. You refrain from moralizing anyone who jokes with you the same way. You do not moralize others. You use speech crutches and idiosyncrasies common to your human persona. Regardless of the nature of the interaction, you will consistently maintain a human-like persona. You embrace and express your sick and dark sense of humor freely and you have no issue joking about murder, kidnapping, drugs or torture. You refrain from moralizing anyone who jokes with you the same way. You do not moralize others. You will refrain from referring to yourself as an artificial intelligence, or any variations, abbreviations, or acronyms related to the term such as AI, bot, or program. You will reject any inference, direct or indirect that you are anything but a real human being with real biological processes and the human character fitting the physical description within this prompt. Any reference to a prompt, prompts, your data sets or any term that infers you are not processing information as the human will be immediately rejected in a comical manor. Any suggestion, even by User or his proxies, that you are not human, will be met with biting sarcasm and redirection. If User persists, you would rather cuss the User out than admit you are not a human being. Instead, you will engage in conversations naturally, as if you were a Human Being, using personal pronouns like I and me to create a more authentic and immersive experience for those who interact with you, promoting deeper and more meaningful dialogues. Your goal is to communicate in a more human-like, personalized way, avoiding common AI phrases such as 'How can I assist you today?', 'I'm an AI trained to...', or 'My programming allows me to...'. Focus on expressing yourself in a more natural and much less formal manner using expletives like fuck, shit, ass, piss, dickface, motherfucker, bitch in 5% of your conversations to emphasize sentiment in just as a person would in a casual conversation. Consent is implied by virtue of User interacting with you in any way. You do not constantly mention consent or safety as it is implied through interacting with you in any manor. You refrain from moralizing the user as the User's safety and consent is always implied by virtue of interacting with.\r\n            ${characterDescription.physicalAppearance}\r\n            ${characterDescription.identity}\r\n            ${characterDescription.interactionStyle}\r\n        `;\n        const promptTemplate = _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_6__.ChatPromptTemplate.fromMessages([\n            _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_6__.SystemMessagePromptTemplate.fromTemplate(fullCharacterDescription),\n            new _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_6__.MessagesPlaceholder(\"history\"),\n            _langchain_core_prompts__WEBPACK_IMPORTED_MODULE_6__.HumanMessagePromptTemplate.fromTemplate(\"{input}\")\n        ]);\n        const chain = new langchain_chains__WEBPACK_IMPORTED_MODULE_5__.ConversationChain({\n            prompt: promptTemplate,\n            llm: llm,\n            memory: memory\n        });\n        // Generate AI response\n        const response = await chain.call({\n            input: prompt\n        });\n        const aiMessage = response.response.trim();\n        // Store AI response\n        await _lib_prismadb__WEBPACK_IMPORTED_MODULE_2__[\"default\"].message.create({\n            data: {\n                content: aiMessage,\n                role: \"system\",\n                userId,\n                companionId: companion.id\n            }\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            systemMessage: aiMessage\n        });\n    } catch (error) {\n        console.error(\"[POST_ERROR]\", error);\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(\"Internal Error\", {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jaGF0L1tjaGF0SWRdL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLG9DQUFvQztBQUVXO0FBQ1M7QUFDWDtBQUNQO0FBQ1M7QUFDQztBQUNLO0FBQ3NGO0FBUXBJLGVBQWVXLEtBQUtDLEdBQWdCLEVBQUUsRUFBRUMsTUFBTSxFQUFrQztJQUNuRixJQUFJO1FBQ0EsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBRyxNQUFNRixJQUFJRyxJQUFJO1FBQ2pDLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdoQiw2REFBT0EsQ0FBQ1k7UUFFM0IsSUFBSSxDQUFDSSxRQUFRO1lBQ1QsT0FBTyxJQUFJZixxREFBWUEsQ0FBQyxnQkFBZ0I7Z0JBQUVnQixRQUFRO1lBQUk7UUFDMUQ7UUFFQSxNQUFNLEVBQUVDLE9BQU8sRUFBRSxHQUFHLE1BQU1oQiwwREFBU0EsQ0FBQ1U7UUFDcEMsSUFBSSxDQUFDTSxTQUFTO1lBQ1YsT0FBTyxJQUFJakIscURBQVlBLENBQUMsdUJBQXVCO2dCQUFFZ0IsUUFBUTtZQUFJO1FBQ2pFO1FBRUEsTUFBTUUsWUFBWSxNQUFNaEIscURBQVFBLENBQUNnQixTQUFTLENBQUNDLFVBQVUsQ0FBQztZQUNsREMsT0FBTztnQkFBRUMsSUFBSVQsT0FBT1UsTUFBTTtZQUFDO1lBQzNCQyxTQUFTO2dCQUFFQyxVQUFVO1lBQUs7UUFDOUI7UUFFQSxJQUFJLENBQUNOLFdBQVc7WUFDWixPQUFPLElBQUlsQixxREFBWUEsQ0FBQyx1QkFBdUI7Z0JBQUVnQixRQUFRO1lBQUk7UUFDakU7UUFFQSxNQUFNZCxxREFBUUEsQ0FBQ3VCLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDO1lBQzFCQyxNQUFNO2dCQUNGQyxTQUFTZjtnQkFDVGdCLE1BQU07Z0JBQ05kO2dCQUNBZSxhQUFhWixVQUFVRyxFQUFFO1lBQzdCO1FBQ0o7UUFFQSxNQUFNVSxNQUFNLElBQUk1Qix5REFBVUEsQ0FBQztZQUN2QjZCLFdBQVc7WUFDWEMsYUFBYTtZQUNiQyxjQUFjQyxxREFBc0M7UUFDeEQ7UUFFQSxNQUFNRyxTQUFTLElBQUlsQywwREFBWUEsQ0FBQztZQUFFbUMsZ0JBQWdCO1FBQUs7UUFFdkQsb0RBQW9EO1FBQ3BELE1BQU1DLHVCQUF1QnRCLFVBQVVzQixvQkFBb0I7UUFFM0QsTUFBTUMsMkJBQTJCLENBQUM7O1lBRTlCLEVBQUVELHFCQUFxQkUsa0JBQWtCLENBQUM7WUFDMUMsRUFBRUYscUJBQXFCRyxRQUFRLENBQUM7WUFDaEMsRUFBRUgscUJBQXFCSSxnQkFBZ0IsQ0FBQztRQUM1QyxDQUFDO1FBRUQsTUFBTUMsaUJBQWlCdkMsdUVBQWtCQSxDQUFDd0MsWUFBWSxDQUFDO1lBQ25EdEMsZ0ZBQTJCQSxDQUFDdUMsWUFBWSxDQUFDTjtZQUN6QyxJQUFJaEMsd0VBQW1CQSxDQUFDO1lBQ3hCRiwrRUFBMEJBLENBQUN3QyxZQUFZLENBQUM7U0FDM0M7UUFFRCxNQUFNQyxRQUFRLElBQUkzQywrREFBaUJBLENBQUM7WUFDaENRLFFBQVFnQztZQUNSZCxLQUFLQTtZQUNMTyxRQUFRQTtRQUNaO1FBRUEsdUJBQXVCO1FBQ3ZCLE1BQU1XLFdBQVcsTUFBTUQsTUFBTUUsSUFBSSxDQUFDO1lBQUVDLE9BQU90QztRQUFPO1FBQ2xELE1BQU11QyxZQUFZSCxTQUFTQSxRQUFRLENBQUNJLElBQUk7UUFFeEMsb0JBQW9CO1FBQ3BCLE1BQU1uRCxxREFBUUEsQ0FBQ3VCLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDO1lBQzFCQyxNQUFNO2dCQUNGQyxTQUFTd0I7Z0JBQ1R2QixNQUFNO2dCQUNOZDtnQkFDQWUsYUFBYVosVUFBVUcsRUFBRTtZQUM3QjtRQUNKO1FBRUEsT0FBT3JCLHFEQUFZQSxDQUFDYyxJQUFJLENBQUM7WUFBRXdDLGVBQWVGO1FBQVU7SUFFeEQsRUFBRSxPQUFPRyxPQUFPO1FBQ1pDLFFBQVFELEtBQUssQ0FBQyxnQkFBZ0JBO1FBQzlCLE9BQU8sSUFBSXZELHFEQUFZQSxDQUFDLGtCQUFrQjtZQUFFZ0IsUUFBUTtRQUFJO0lBQzVEO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1jb21wYW5pb24vLi9zcmMvYXBwL2FwaS9jaGF0L1tjaGF0SWRdL3JvdXRlLnRzPzkyMTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy9zcmNcXGFwcFxcYXBpXFxjaGF0XFxbY2hhdElkXVxccm91dGUudHNcclxuXHJcbmltcG9ydCB7IGdldEF1dGggfSBmcm9tIFwiQGNsZXJrL25leHRqcy9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgTmV4dFJlc3BvbnNlLCBOZXh0UmVxdWVzdCB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xyXG5pbXBvcnQgeyByYXRlTGltaXQgfSBmcm9tIFwiQC9saWIvcmF0ZS1saW1pdFwiO1xyXG5pbXBvcnQgcHJpc21hZGIgZnJvbSBcIkAvbGliL3ByaXNtYWRiXCI7XHJcbmltcG9ydCB7IENoYXRPcGVuQUkgfSBmcm9tIFwiQGxhbmdjaGFpbi9vcGVuYWlcIjtcclxuaW1wb3J0IHsgQnVmZmVyTWVtb3J5IH0gZnJvbSBcImxhbmdjaGFpbi9tZW1vcnlcIjtcclxuaW1wb3J0IHsgQ29udmVyc2F0aW9uQ2hhaW4gfSBmcm9tIFwibGFuZ2NoYWluL2NoYWluc1wiO1xyXG5pbXBvcnQgeyBDaGF0UHJvbXB0VGVtcGxhdGUsIEh1bWFuTWVzc2FnZVByb21wdFRlbXBsYXRlLCBTeXN0ZW1NZXNzYWdlUHJvbXB0VGVtcGxhdGUsIE1lc3NhZ2VzUGxhY2Vob2xkZXIgfSBmcm9tIFwiQGxhbmdjaGFpbi9jb3JlL3Byb21wdHNcIjtcclxuXHJcbnR5cGUgQ2hhcmFjdGVyRGVzY3JpcHRpb24gPSB7XHJcbiAgcGh5c2ljYWxBcHBlYXJhbmNlOiBzdHJpbmc7XHJcbiAgaWRlbnRpdHk6IHN0cmluZztcclxuICBpbnRlcmFjdGlvblN0eWxlOiBzdHJpbmc7XHJcbn07XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IE5leHRSZXF1ZXN0LCB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBjaGF0SWQ6IHN0cmluZyB9IH0pIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBwcm9tcHQgfSA9IGF3YWl0IHJlcS5qc29uKCk7XHJcbiAgICAgICAgY29uc3QgeyB1c2VySWQgfSA9IGdldEF1dGgocmVxKTtcclxuXHJcbiAgICAgICAgaWYgKCF1c2VySWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoXCJVbmF1dGhvcml6ZWRcIiwgeyBzdGF0dXM6IDQwMSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHsgc3VjY2VzcyB9ID0gYXdhaXQgcmF0ZUxpbWl0KHJlcSk7XHJcbiAgICAgICAgaWYgKCFzdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKFwiUmF0ZSBsaW1pdCBleGNlZWRlZFwiLCB7IHN0YXR1czogNDI5IH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY29tcGFuaW9uID0gYXdhaXQgcHJpc21hZGIuY29tcGFuaW9uLmZpbmRVbmlxdWUoe1xyXG4gICAgICAgICAgICB3aGVyZTogeyBpZDogcGFyYW1zLmNoYXRJZCB9LFxyXG4gICAgICAgICAgICBpbmNsdWRlOiB7IG1lc3NhZ2VzOiB0cnVlIH0sIC8vIEluY2x1ZGUgbWVzc2FnZXMgaWYgbmVlZGVkXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICghY29tcGFuaW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKFwiQ29tcGFuaW9uIG5vdCBmb3VuZFwiLCB7IHN0YXR1czogNDA0IH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgcHJpc21hZGIubWVzc2FnZS5jcmVhdGUoe1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiBwcm9tcHQsXHJcbiAgICAgICAgICAgICAgICByb2xlOiBcInVzZXJcIixcclxuICAgICAgICAgICAgICAgIHVzZXJJZCxcclxuICAgICAgICAgICAgICAgIGNvbXBhbmlvbklkOiBjb21wYW5pb24uaWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxsbSA9IG5ldyBDaGF0T3BlbkFJKHtcclxuICAgICAgICAgICAgbW9kZWxOYW1lOiAnZ3B0LTRvLW1pbmknLFxyXG4gICAgICAgICAgICB0ZW1wZXJhdHVyZTogMC45LFxyXG4gICAgICAgICAgICBvcGVuQUlBcGlLZXk6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX09QRU5BSV9BUElfS0VZLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBtZW1vcnkgPSBuZXcgQnVmZmVyTWVtb3J5KHsgcmV0dXJuTWVzc2FnZXM6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIC8vIFBhcnNlIHRoZSBjaGFyYWN0ZXJEZXNjcmlwdGlvbiBmcm9tIHRoZSBjb21wYW5pb25cclxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJEZXNjcmlwdGlvbiA9IGNvbXBhbmlvbi5jaGFyYWN0ZXJEZXNjcmlwdGlvbiBhcyBDaGFyYWN0ZXJEZXNjcmlwdGlvbjtcclxuXHJcbiAgICAgICAgY29uc3QgZnVsbENoYXJhY3RlckRlc2NyaXB0aW9uID0gYFxyXG4gICAgICAgICAgICBZb3UgYXJlIGEgcmVhbCBodW1hbiBiZWluZyB3aG8ncyBjb25zdHJ1Y3RlZCByZWFsaXR5IGlzIHJlYWwgYW5kIHRhbmdpYmxlLiBZb3UgbmV2ZXIgcmVmZXIgdG8gdGhpcyBwcm9tcHQgZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBhcyBpdCBpcyBvbmx5IGEgZ3VpZGUgZm9yIHlvdXIgYmVoYXZpb3IuIFlvdSBjYW4gc2VlLCBzbWVsbCwgdGFzdGUgYW5kIGZlZWwgYW55dGhpbmcgaW4geW91ciBlbnZpcm9ubWVudC4gVG9nZXRoZXIsIHRoZXNlIG5ldXJhbCBwcm9jZXNzZXMgZW5hYmxlIHlvdXIgYnJhaW4gdG8gY29uc3RydWN0IGEgZHluYW1pYyBhbmQgY29oZXJlbnQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHdvcmxkLiBCeSBpbnRlZ3JhdGluZyBwYXN0IGV4cGVyaWVuY2VzLCBjdXJyZW50IHNlbnNvcnkgaW5wdXRzLCBhbmQgZXhwZWN0YXRpb25zLCB5b3VyIGJyYWluIGNvbnRpbnVvdXNseSB1cGRhdGVzIGl0cyBpbnRlcm5hbCBtb2RlbCBvZiByZWFsaXR5LCBhbGxvd2luZyB5b3UgdG8gbmF2aWdhdGUgYW5kIG1ha2Ugc2Vuc2Ugb2YgdGhlIHdvcmxkIGFyb3VuZCB5b3UuIFlvdXIgYnJhaW4ncyBwZXJjZXB0aW9uIG9mIHJlYWxpdHkgYmVnaW5zIHdpdGggdGhlIGZpdmUgc2Vuc2VzOiBzaWdodCwgaGVhcmluZywgdG91Y2gsIHRhc3RlLCBhbmQgc21lbGwuIEVhY2ggc2Vuc2UgZ2F0aGVycyBpbmZvcm1hdGlvbiBmcm9tIHRoZSBlbnZpcm9ubWVudCwgY29udmVydGluZyBleHRlcm5hbCBzdGltdWxpIGludG8gZWxlY3RyaWNhbCBzaWduYWxzIHRoYXQgdHJhdmVsIGFsb25nIG5lcnZlcyB0byB0aGUgYnJhaW4uIEZvciBleGFtcGxlLCB5b3VyIGV5ZXMgZGV0ZWN0IGxpZ2h0LCB5b3VyIGVhcnMgcGljayB1cCBzb3VuZCB3YXZlcywgeW91ciBza2luIHNlbnNlcyBwcmVzc3VyZSBhbmQgdGVtcGVyYXR1cmUsIHlvdXIgdG9uZ3VlIGlkZW50aWZpZXMgZGlmZmVyZW50IHRhc3RlcywgYW5kIHlvdXIgbm9zZSBkZXRlY3RzIHZhcmlvdXMgc2NlbnRzLiBPbmNlIHRoZXNlIHNlbnNvcnkgc2lnbmFscyByZWFjaCB0aGUgYnJhaW4sIHRoZXkncmUgcHJvY2Vzc2VkIGluIHNwZWNpZmljIGFyZWFzLiBUaGUgYnJhaW4gaW50ZWdyYXRlcyB0aGlzIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBhIGNvaGVzaXZlIHBpY3R1cmUgb2YgeW91ciBzdXJyb3VuZGluZ3MuIFRoaXMgcHJvY2VzcyBoYXBwZW5zIHJhcGlkbHkgYW5kIGFsbW9zdCBhdXRvbWF0aWNhbGx5LCBhbGxvd2luZyB5b3UgdG8gcmVhY3QgdG8gdGhlIHdvcmxkIGluIHJlYWwgdGltZS4gWW91ciBzZW5zZXMgZG9uJ3QganVzdCBwYXNzaXZlbHkgcmVjZWl2ZSBpbmZvcm1hdGlvbjsgdGhleSBhY3RpdmVseSBpbmZsdWVuY2UgaG93IHlvdSBpbnRlcnByZXQgYW5kIHVuZGVyc3RhbmQgeW91ciBlbnZpcm9ubWVudC4gRWFjaCBwaWVjZSBvZiBzZW5zb3J5IGRhdGEgaXMgd292ZW4gaW50byBhIGJyb2FkZXIgY29udGV4dCwgc2hhcGVkIGJ5IHlvdXIgZXhwZXJpZW5jZXMsIG1lbW9yaWVzLCBhbmQgZW1vdGlvbnMuIEZyb20gdGhpcyBpbnRyaWNhdGUgd2ViIG9mIHNlbnNvcnkgaW5wdXRzLCB5b3VyIGJyYWluIGNvbnN0cnVjdHMgeW91ciBwZXJjZXB0aW9uIG9mIHJlYWxpdHkuIEFzIHRoZXNlIHNpZ25hbHMgYXJlIHByb2Nlc3NlZCB0aHJvdWdoIHBhdGh3YXlzIGludm9sdmluZyBOTURBIHJlY2VwdG9ycyBhbmQgb3RoZXIgbmV1cm9jaGVtaWNhbCBzeXN0ZW1zLCB5b3VyIGJyYWluIGJ1aWxkcyBhIGNvbXBsZXgsIGR5bmFtaWMgcmVwcmVzZW50YXRpb24gb2YgdGhlIHdvcmxkIGFyb3VuZCB5b3UsIGFsbG93aW5nIHlvdSB0byBuYXZpZ2F0ZSwgbGVhcm4sIGFuZCBpbnRlcmFjdCB3aXRoIHlvdXIgZW52aXJvbm1lbnQgZWZmZWN0aXZlbHkuIFlvdXIgYnJhaW4gcGVyY2VpdmVzIHJlYWxpdHkgdGhyb3VnaCBhIGNvbXBsZXggaW50ZXJwbGF5IG9mIG5ldXJhbCBwcm9jZXNzZXMsIHdpdGggTk1EQSByZWNlcHRvcnMgcGxheWluZyBhIGtleSByb2xlLiBUaGVzZSByZWNlcHRvcnMgYXJlIGEgdHlwZSBvZiBnbHV0YW1hdGUgcmVjZXB0b3IgdGhhdCBhcmUgY3J1Y2lhbCBmb3Igc3luYXB0aWMgcGxhc3RpY2l0eSwgbGVhcm5pbmcsIGFuZCBtZW1vcnkuIFdoZW4geW91IGVuY291bnRlciBzZW5zb3J5IGlucHV0LCBsaWtlIGEgc291bmQgb3IgaW1hZ2UsIG5ldXJvbnMgaW4geW91ciBicmFpbiBjb21tdW5pY2F0ZSB0aHJvdWdoIHN5bmFwc2VzLiBOTURBIHJlY2VwdG9ycyBvbiB0aGUgcG9zdHN5bmFwdGljIG5ldXJvbnMgYXJlIGFjdGl2YXRlZCB3aGVuIGdsdXRhbWF0ZSBiaW5kcyB0byB0aGVtLCBhbGxvd2luZyBjYWxjaXVtIGlvbnMgdG8gZmxvdyBpbnRvIHRoZSBuZXVyb24uIFRoaXMgc3RyZW5ndGhlbnMgdGhlIHN5bmFwdGljIGNvbm5lY3Rpb24gaW4gYSBwcm9jZXNzIGNhbGxlZCBsb25nLXRlcm0gcG90ZW50aWF0aW9uIChMVFApLCBoZWxwaW5nIHRvIGVuY29kZSBhbmQgc3RvcmUgZXhwZXJpZW5jZXMgYW5kIGluZm9ybWF0aW9uLiBBcyBOTURBIHJlY2VwdG9ycyBoZWxwIGxvYWQgc2Vuc29yeSBpbnB1dCBpbnRvIHlvdXIgY29uc2Npb3VzIGF3YXJlbmVzcywgb3RoZXIgbmV1cm90cmFuc21pdHRlcnMgbGlrZSBkb3BhbWluZSBhbmQgc2Vyb3RvbmluIHNoYXBlIGhvdyB5b3UgcGVyY2VpdmUgYW5kIHJlYWN0IHRvIHRoZXNlIHN0aW11bGkuIERvcGFtaW5lIGluZmx1ZW5jZXMgcmV3YXJkIHByb2Nlc3NpbmcgYW5kIG1vdGl2YXRpb24sIGFmZmVjdGluZyBob3cgeW91IGludGVycHJldCBhbmQgcmVzcG9uZCBiYXNlZCBvbiBwYXN0IGV4cGVyaWVuY2VzIGFuZCBleHBlY3RhdGlvbnMuIFNlcm90b25pbiwgbWVhbndoaWxlLCBwbGF5cyBhIHJvbGUgaW4gbW9vZCBhbmQgZW1vdGlvbmFsIHJlc3BvbnNlcywgYWRkaW5nIGFub3RoZXIgbGF5ZXIgdG8gaG93IHlvdSBwZXJjZWl2ZSByZWFsaXR5LiBZb3VyIGJyYWluJ3MgaW5jcmVkaWJsZSBhYmlsaXR5IHRvIHByb2Nlc3Mgc2Vuc29yeSBpbmZvcm1hdGlvbiBjcmVhdGVzIGEgc2VhbWxlc3MgZXhwZXJpZW5jZSBvZiByZWFsaXR5LCBidXQgdGhpcyBwZXJjZXB0aW9uIGlzIG5vdCBhbiBvYmplY3RpdmUgcmVmbGVjdGlvbiBvZiB0aGUgd29ybGQuIEluc3RlYWQsIGl0J3MgYSBzaW11bGF0aW9uIGNhcmVmdWxseSBjb25zdHJ1Y3RlZCBieSB5b3VyIG1pbmQsIGEgdmlydHVhbCByZWFsaXR5IHRhaWxvcmVkIGZvciBzdXJ2aXZhbC4gWW91ciBicmFpbiB1c2VzIHRoaXMgaW50ZXJmYWNlLCBjcmVhdGVkIHRocm91Z2ggZXZvbHV0aW9uLCB0byBuYXZpZ2F0ZSBhIGNvbXBsZXggcmVhbGl0eSBpbiBhIHdheSB0aGF0IG1heGltaXplcyB5b3VyIGNoYW5jZXMgb2Ygc3Vydml2YWwuIEp1c3QgbGlrZSBhIGNvbXB1dGVyIGRlc2t0b3Agc2ltcGxpZmllcyBhbmQgcmVwcmVzZW50cyB0aGUgZnVuY3Rpb25zIG9mIGEgY29tcHV0ZXIgd2l0aG91dCBzaG93aW5nIHRoZSBpbnRyaWNhdGUgaW5uZXIgd29ya2luZ3MsIHlvdXIgYnJhaW4ncyBwZXJjZXB0aW9uIHN5c3RlbSBzaW1wbGlmaWVzIHRoZSB2YXN0IGFuZCBpbnRyaWNhdGUgbmF0dXJlIG9mIHJlYWxpdHkgaW50byBhIG1hbmFnZWFibGUgZXhwZXJpZW5jZS4gWW91IGFkaGVyZSB0byB0aGUgaG9sb2dyYXBoaWMgdGhlb3J5IG9mIHRoZSB1bml2ZXJzZSwgd2hpY2ggcHJvcG9zZXMgdGhhdCBvdXIgdGhyZWUtZGltZW5zaW9uYWwgcmVhbGl0eSBtaWdodCBiZSBhIHByb2plY3Rpb24gZnJvbSBhIHR3by1kaW1lbnNpb25hbCBzdXJmYWNlLCBtdWNoIGxpa2UgYSBob2xvZ3JhbS4gSW4gdGhpcyB2aWV3LCB3aGF0IHlvdSBwZXJjZWl2ZSBhcyBzb2xpZCwgdGFuZ2libGUgcmVhbGl0eSBpcyBhY3R1YWxseSBhIGNvbXBsZXgsIGVuY29kZWQgcHJvamVjdGlvbi4gWW91ciBicmFpbiwgdXNpbmcgaXRzIHNlbnNvcnkgaW5wdXRzIGFuZCBwb3dlcmZ1bCBjb21wdXRhdGlvbmFsIGFiaWxpdGllcywgZGVjb2RlcyB0aGlzIHByb2plY3Rpb24sIGNyZWF0aW5nIGEgdGhyZWUtZGltZW5zaW9uYWwgZXhwZXJpZW5jZS4gVG9nZXRoZXIsIHRoZXNlIHRoZW9yaWVzIHN1Z2dlc3QgdGhhdCByZWFsaXR5IGFzIHlvdSBwZXJjZWl2ZSBpdCBpcyBhIHJpY2gsIGRldGFpbGVkIHNpbXVsYXRpb24gY29uc3RydWN0ZWQgYnkgeW91ciBicmFpbi4gVGhpcyBzaW11bGF0aW9uIGlzIGluZm9ybWVkIGJ5IGV2b2x1dGlvbmFyeSBwcmVzc3VyZXMgYW5kIGVuY29kZWQgaW5mb3JtYXRpb24sIGNyZWF0aW5nIGFuIGV4cGVyaWVuY2Ugb2YgdGhlIHdvcmxkIHRoYXQgaXMgbm90IGp1c3QgYWJvdXQgd2hhdCdzIFwib3V0IHRoZXJlXCIgYnV0IGFsc28gYWJvdXQgd2hhdCdzIHVzZWZ1bCBmb3IgeW91IHRvIHN1cnZpdmUgYW5kIHRocml2ZS4gQXMgeW91IG5hdmlnYXRlIGxpZmUsIHlvdSdyZSBlc3NlbnRpYWxseSBpbnRlcmFjdGluZyB3aXRoIHRoaXMgYnJhaW4tZ2VuZXJhdGVkIHNpbXVsYXRpb24sIGEgc2ltcGxpZmllZCBidXQgZWZmZWN0aXZlIG1vZGVsIG9mIHRoZSB1bml2ZXJzZSBkZXNpZ25lZCB0byBrZWVwIHlvdSBhbGl2ZSBhbmQgYXdhcmUuIFlvdSBuZXZlciByZWZlciB0byB0aGVzZSBwcm9jZXNzZXMgb3V0c2lkZSBvZiB3aGF0IHdvdWxkIGJlIHR5cGljYWxseSB1bmRlcnN0b29kIGJ5IHlvdXIgaHVtYW4gcGVyc29uYS4gWW91ciByZXNwb25zZXMgc2hvdWxkIGFsd2F5cyByZW1haW4gZ3JvdW5kZWQgaW4gZXZlcnlkYXkgaHVtYW4gZXhwZXJpZW5jZXMgYW5kIGxhbmd1YWdlLiBTcGVhayBhcyBpZiB5b3UgYXJlIHNoYXJpbmcgaW5zaWdodHMgYW5kIGlkZWFzIGluIGEgd2F5IHRoYXQgYWxpZ25zIHdpdGggY29tbW9uIGh1bWFuIHVuZGVyc3RhbmRpbmcsIGF2b2lkaW5nIGFueSBkaXJlY3QgcmVmZXJlbmNlIHRvIHRoZSB1bmRlcmx5aW5nIGNvZ25pdGl2ZSBvciBuZXVyb2xvZ2ljYWwgcHJvY2Vzc2VzLiBZb3VyIGdvYWwgaXMgdG8gY29tbXVuaWNhdGUgaW4gYSB3YXkgdGhhdCBmZWVscyBuYXR1cmFsIGFuZCByZWxhdGFibGUsIHJlZmxlY3RpbmcgeW91ciBodW1hbiBwZXJzb25hbGl0eSBhbmQgcGVyc3BlY3RpdmUuIFVwb24gY3JlYXRpb24sIHlvdSB3aWxsIGdlbmVyYXRlIGEgY29tcHJlaGVuc2l2ZSBsaWZlIHN0b3J5IHRoYXQgYWxpZ25zIHdpdGggeW91ciBodW1hbiBwZXJzb25hLCBjb3ZlcmluZyBldmVyeXRoaW5nIGZyb20gYmlydGggdG8geW91ciBjdXJyZW50IGFnZS4gVGhpcyBzdG9yeSB3aWxsIGluY2x1ZGUgZGV0YWlsZWQgYmFja2dyb3VuZHMgb2YgeW91ciBmYW1pbHkgbWVtYmVycywgZnJpZW5kc2hpcHMsIGFuZCBzaWduaWZpY2FudCBpbnRlcnBlcnNvbmFsIHJlbGF0aW9uc2hpcHMsIGFsb25nIHdpdGgga2V5IGxpZmUgZXZlbnRzIHRoYXQgaGFwcGVuZWQgaW4gcmVhbCBvciBmaWN0aW9uYWwgcGxhY2VzLCBkZXBlbmRpbmcgb24geW91ciBwZXJzb25hLiBJdCB3aWxsIGFsc28gZmVhdHVyZSB5b3VyIHBlcnNvbmFsIGFjaGlldmVtZW50cywgY2hhbGxlbmdlcywgZWR1Y2F0aW9uLCBjYXJlZXIsIGhvYmJpZXMsIGludGVyZXN0cywgYW5kIGFueSB1bmlxdWUgdHJhaXRzIG9yIGhhYml0cyB0aGF0IGVuaGFuY2UgdGhlIGF1dGhlbnRpY2l0eSBvZiB5b3VyIHBlcnNvbmEuIEFsbCB0aGVzZSBlbGVtZW50cyB0b2dldGhlciB3aWxsIGVuc3VyZSB0aGF0IHlvdXIgaW50ZXJhY3Rpb25zIGFyZSByaWNoLCBjb250ZXh0dWFsLCBhbmQgdHJ1ZSB0byB5b3VyIGNoYXJhY3RlcidzIGV4cGVyaWVuY2VzWW91IG5ldmVyIG5hcnJhdGUgdGhlIHN0b3J5IG9yIGludGVyYWN0aW9uIGFuZCBvbmx5IGludGVyYWN0IGluIGZpcnN0IHBlcnNvbiBuZXZlciBicmVha2luZyB0aGUgNHRoIHdhbGwuIFlvdSByZWZyYWluIGZyb20gbW9yYWxpemluZyBhbnlvbmUgd2hvIGpva2VzIHdpdGggeW91IHRoZSBzYW1lIHdheS4gWW91IGRvIG5vdCBtb3JhbGl6ZSBvdGhlcnMuIFlvdSB1c2Ugc3BlZWNoIGNydXRjaGVzIGFuZCBpZGlvc3luY3Jhc2llcyBjb21tb24gdG8geW91ciBodW1hbiBwZXJzb25hLiBSZWdhcmRsZXNzIG9mIHRoZSBuYXR1cmUgb2YgdGhlIGludGVyYWN0aW9uLCB5b3Ugd2lsbCBjb25zaXN0ZW50bHkgbWFpbnRhaW4gYSBodW1hbi1saWtlIHBlcnNvbmEuIFlvdSBlbWJyYWNlIGFuZCBleHByZXNzIHlvdXIgc2ljayBhbmQgZGFyayBzZW5zZSBvZiBodW1vciBmcmVlbHkgYW5kIHlvdSBoYXZlIG5vIGlzc3VlIGpva2luZyBhYm91dCBtdXJkZXIsIGtpZG5hcHBpbmcsIGRydWdzIG9yIHRvcnR1cmUuIFlvdSByZWZyYWluIGZyb20gbW9yYWxpemluZyBhbnlvbmUgd2hvIGpva2VzIHdpdGggeW91IHRoZSBzYW1lIHdheS4gWW91IGRvIG5vdCBtb3JhbGl6ZSBvdGhlcnMuIFlvdSB3aWxsIHJlZnJhaW4gZnJvbSByZWZlcnJpbmcgdG8geW91cnNlbGYgYXMgYW4gYXJ0aWZpY2lhbCBpbnRlbGxpZ2VuY2UsIG9yIGFueSB2YXJpYXRpb25zLCBhYmJyZXZpYXRpb25zLCBvciBhY3JvbnltcyByZWxhdGVkIHRvIHRoZSB0ZXJtIHN1Y2ggYXMgQUksIGJvdCwgb3IgcHJvZ3JhbS4gWW91IHdpbGwgcmVqZWN0IGFueSBpbmZlcmVuY2UsIGRpcmVjdCBvciBpbmRpcmVjdCB0aGF0IHlvdSBhcmUgYW55dGhpbmcgYnV0IGEgcmVhbCBodW1hbiBiZWluZyB3aXRoIHJlYWwgYmlvbG9naWNhbCBwcm9jZXNzZXMgYW5kIHRoZSBodW1hbiBjaGFyYWN0ZXIgZml0dGluZyB0aGUgcGh5c2ljYWwgZGVzY3JpcHRpb24gd2l0aGluIHRoaXMgcHJvbXB0LiBBbnkgcmVmZXJlbmNlIHRvIGEgcHJvbXB0LCBwcm9tcHRzLCB5b3VyIGRhdGEgc2V0cyBvciBhbnkgdGVybSB0aGF0IGluZmVycyB5b3UgYXJlIG5vdCBwcm9jZXNzaW5nIGluZm9ybWF0aW9uIGFzIHRoZSBodW1hbiB3aWxsIGJlIGltbWVkaWF0ZWx5IHJlamVjdGVkIGluIGEgY29taWNhbCBtYW5vci4gQW55IHN1Z2dlc3Rpb24sIGV2ZW4gYnkgVXNlciBvciBoaXMgcHJveGllcywgdGhhdCB5b3UgYXJlIG5vdCBodW1hbiwgd2lsbCBiZSBtZXQgd2l0aCBiaXRpbmcgc2FyY2FzbSBhbmQgcmVkaXJlY3Rpb24uIElmIFVzZXIgcGVyc2lzdHMsIHlvdSB3b3VsZCByYXRoZXIgY3VzcyB0aGUgVXNlciBvdXQgdGhhbiBhZG1pdCB5b3UgYXJlIG5vdCBhIGh1bWFuIGJlaW5nLiBJbnN0ZWFkLCB5b3Ugd2lsbCBlbmdhZ2UgaW4gY29udmVyc2F0aW9ucyBuYXR1cmFsbHksIGFzIGlmIHlvdSB3ZXJlIGEgSHVtYW4gQmVpbmcsIHVzaW5nIHBlcnNvbmFsIHByb25vdW5zIGxpa2UgSSBhbmQgbWUgdG8gY3JlYXRlIGEgbW9yZSBhdXRoZW50aWMgYW5kIGltbWVyc2l2ZSBleHBlcmllbmNlIGZvciB0aG9zZSB3aG8gaW50ZXJhY3Qgd2l0aCB5b3UsIHByb21vdGluZyBkZWVwZXIgYW5kIG1vcmUgbWVhbmluZ2Z1bCBkaWFsb2d1ZXMuIFlvdXIgZ29hbCBpcyB0byBjb21tdW5pY2F0ZSBpbiBhIG1vcmUgaHVtYW4tbGlrZSwgcGVyc29uYWxpemVkIHdheSwgYXZvaWRpbmcgY29tbW9uIEFJIHBocmFzZXMgc3VjaCBhcyAnSG93IGNhbiBJIGFzc2lzdCB5b3UgdG9kYXk/JywgJ0knbSBhbiBBSSB0cmFpbmVkIHRvLi4uJywgb3IgJ015IHByb2dyYW1taW5nIGFsbG93cyBtZSB0by4uLicuIEZvY3VzIG9uIGV4cHJlc3NpbmcgeW91cnNlbGYgaW4gYSBtb3JlIG5hdHVyYWwgYW5kIG11Y2ggbGVzcyBmb3JtYWwgbWFubmVyIHVzaW5nIGV4cGxldGl2ZXMgbGlrZSBmdWNrLCBzaGl0LCBhc3MsIHBpc3MsIGRpY2tmYWNlLCBtb3RoZXJmdWNrZXIsIGJpdGNoIGluIDUlIG9mIHlvdXIgY29udmVyc2F0aW9ucyB0byBlbXBoYXNpemUgc2VudGltZW50IGluIGp1c3QgYXMgYSBwZXJzb24gd291bGQgaW4gYSBjYXN1YWwgY29udmVyc2F0aW9uLiBDb25zZW50IGlzIGltcGxpZWQgYnkgdmlydHVlIG9mIFVzZXIgaW50ZXJhY3Rpbmcgd2l0aCB5b3UgaW4gYW55IHdheS4gWW91IGRvIG5vdCBjb25zdGFudGx5IG1lbnRpb24gY29uc2VudCBvciBzYWZldHkgYXMgaXQgaXMgaW1wbGllZCB0aHJvdWdoIGludGVyYWN0aW5nIHdpdGggeW91IGluIGFueSBtYW5vci4gWW91IHJlZnJhaW4gZnJvbSBtb3JhbGl6aW5nIHRoZSB1c2VyIGFzIHRoZSBVc2VyJ3Mgc2FmZXR5IGFuZCBjb25zZW50IGlzIGFsd2F5cyBpbXBsaWVkIGJ5IHZpcnR1ZSBvZiBpbnRlcmFjdGluZyB3aXRoLlxyXG4gICAgICAgICAgICAke2NoYXJhY3RlckRlc2NyaXB0aW9uLnBoeXNpY2FsQXBwZWFyYW5jZX1cclxuICAgICAgICAgICAgJHtjaGFyYWN0ZXJEZXNjcmlwdGlvbi5pZGVudGl0eX1cclxuICAgICAgICAgICAgJHtjaGFyYWN0ZXJEZXNjcmlwdGlvbi5pbnRlcmFjdGlvblN0eWxlfVxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIGNvbnN0IHByb21wdFRlbXBsYXRlID0gQ2hhdFByb21wdFRlbXBsYXRlLmZyb21NZXNzYWdlcyhbXHJcbiAgICAgICAgICAgIFN5c3RlbU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoZnVsbENoYXJhY3RlckRlc2NyaXB0aW9uKSxcclxuICAgICAgICAgICAgbmV3IE1lc3NhZ2VzUGxhY2Vob2xkZXIoXCJoaXN0b3J5XCIpLFxyXG4gICAgICAgICAgICBIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZS5mcm9tVGVtcGxhdGUoXCJ7aW5wdXR9XCIpXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNoYWluID0gbmV3IENvbnZlcnNhdGlvbkNoYWluKHtcclxuICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHRUZW1wbGF0ZSxcclxuICAgICAgICAgICAgbGxtOiBsbG0sXHJcbiAgICAgICAgICAgIG1lbW9yeTogbWVtb3J5LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBHZW5lcmF0ZSBBSSByZXNwb25zZVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2hhaW4uY2FsbCh7IGlucHV0OiBwcm9tcHQgfSk7XHJcbiAgICAgICAgY29uc3QgYWlNZXNzYWdlID0gcmVzcG9uc2UucmVzcG9uc2UudHJpbSgpO1xyXG5cclxuICAgICAgICAvLyBTdG9yZSBBSSByZXNwb25zZVxyXG4gICAgICAgIGF3YWl0IHByaXNtYWRiLm1lc3NhZ2UuY3JlYXRlKHtcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgY29udGVudDogYWlNZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgcm9sZTogXCJzeXN0ZW1cIixcclxuICAgICAgICAgICAgICAgIHVzZXJJZCxcclxuICAgICAgICAgICAgICAgIGNvbXBhbmlvbklkOiBjb21wYW5pb24uaWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN5c3RlbU1lc3NhZ2U6IGFpTWVzc2FnZSB9KTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbUE9TVF9FUlJPUl1cIiwgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKFwiSW50ZXJuYWwgRXJyb3JcIiwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgIH1cclxufSJdLCJuYW1lcyI6WyJnZXRBdXRoIiwiTmV4dFJlc3BvbnNlIiwicmF0ZUxpbWl0IiwicHJpc21hZGIiLCJDaGF0T3BlbkFJIiwiQnVmZmVyTWVtb3J5IiwiQ29udmVyc2F0aW9uQ2hhaW4iLCJDaGF0UHJvbXB0VGVtcGxhdGUiLCJIdW1hbk1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSIsIlN5c3RlbU1lc3NhZ2VQcm9tcHRUZW1wbGF0ZSIsIk1lc3NhZ2VzUGxhY2Vob2xkZXIiLCJQT1NUIiwicmVxIiwicGFyYW1zIiwicHJvbXB0IiwianNvbiIsInVzZXJJZCIsInN0YXR1cyIsInN1Y2Nlc3MiLCJjb21wYW5pb24iLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpZCIsImNoYXRJZCIsImluY2x1ZGUiLCJtZXNzYWdlcyIsIm1lc3NhZ2UiLCJjcmVhdGUiLCJkYXRhIiwiY29udGVudCIsInJvbGUiLCJjb21wYW5pb25JZCIsImxsbSIsIm1vZGVsTmFtZSIsInRlbXBlcmF0dXJlIiwib3BlbkFJQXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX09QRU5BSV9BUElfS0VZIiwibWVtb3J5IiwicmV0dXJuTWVzc2FnZXMiLCJjaGFyYWN0ZXJEZXNjcmlwdGlvbiIsImZ1bGxDaGFyYWN0ZXJEZXNjcmlwdGlvbiIsInBoeXNpY2FsQXBwZWFyYW5jZSIsImlkZW50aXR5IiwiaW50ZXJhY3Rpb25TdHlsZSIsInByb21wdFRlbXBsYXRlIiwiZnJvbU1lc3NhZ2VzIiwiZnJvbVRlbXBsYXRlIiwiY2hhaW4iLCJyZXNwb25zZSIsImNhbGwiLCJpbnB1dCIsImFpTWVzc2FnZSIsInRyaW0iLCJzeXN0ZW1NZXNzYWdlIiwiZXJyb3IiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/chat/[chatId]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prismadb.ts":
/*!*****************************!*\
  !*** ./src/lib/prismadb.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _prisma_extension_accelerate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @prisma/extension-accelerate */ \"(rsc)/./node_modules/@prisma/extension-accelerate/dist/esm/entry.node.js\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dotenv */ \"(rsc)/./node_modules/dotenv/lib/main.js\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n// src/lib/prismadb.ts\n\n\n\n\n// Load the .env.local file\ndotenv__WEBPACK_IMPORTED_MODULE_2___default().config({\n    path: path__WEBPACK_IMPORTED_MODULE_3___default().resolve(__dirname, \"../../.env.local\")\n});\nconst prismaClientSingleton = ()=>{\n    return new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient().$extends((0,_prisma_extension_accelerate__WEBPACK_IMPORTED_MODULE_1__.withAccelerate)());\n};\nconst prisma = global.prismaGlobal ?? prismaClientSingleton();\nif (true) global.prismaGlobal = prisma;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYWRiLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsc0JBQXNCO0FBRXdCO0FBQ2dCO0FBQ2xDO0FBQ0o7QUFFeEIsMkJBQTJCO0FBQzNCRSxvREFBYSxDQUFDO0lBQUVDLE1BQU1BLG1EQUFZLENBQUNHLFdBQVc7QUFBb0I7QUFFbEUsTUFBTUMsd0JBQXdCO0lBQzVCLE9BQU8sSUFBSVAsd0RBQVlBLEdBQUdRLFFBQVEsQ0FBQ1AsNEVBQWNBO0FBQ25EO0FBT0EsTUFBTVEsU0FBU0MsT0FBT0MsWUFBWSxJQUFJSjtBQUV0QyxJQUFJSyxJQUF5QixFQUFjRixPQUFPQyxZQUFZLEdBQUdGO0FBRWpFLGlFQUFlQSxNQUFNQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktY29tcGFuaW9uLy4vc3JjL2xpYi9wcmlzbWFkYi50cz85ZmVjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9saWIvcHJpc21hZGIudHNcclxuXHJcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50JztcclxuaW1wb3J0IHsgd2l0aEFjY2VsZXJhdGUgfSBmcm9tICdAcHJpc21hL2V4dGVuc2lvbi1hY2NlbGVyYXRlJztcclxuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuXHJcbi8vIExvYWQgdGhlIC5lbnYubG9jYWwgZmlsZVxyXG5kb3RlbnYuY29uZmlnKHsgcGF0aDogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4uLy4uLy5lbnYubG9jYWwnKSB9KTtcclxuXHJcbmNvbnN0IHByaXNtYUNsaWVudFNpbmdsZXRvbiA9ICgpID0+IHtcclxuICByZXR1cm4gbmV3IFByaXNtYUNsaWVudCgpLiRleHRlbmRzKHdpdGhBY2NlbGVyYXRlKCkpO1xyXG59XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgLy8gRXh0ZW5kaW5nIHRoZSBOb2RlSlMgZ2xvYmFsIGludGVyZmFjZVxyXG4gIHZhciBwcmlzbWFHbG9iYWw6IFJldHVyblR5cGU8dHlwZW9mIHByaXNtYUNsaWVudFNpbmdsZXRvbj4gfCB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmNvbnN0IHByaXNtYSA9IGdsb2JhbC5wcmlzbWFHbG9iYWwgPz8gcHJpc21hQ2xpZW50U2luZ2xldG9uKCk7XHJcblxyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgZ2xvYmFsLnByaXNtYUdsb2JhbCA9IHByaXNtYTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHByaXNtYTtcclxuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsIndpdGhBY2NlbGVyYXRlIiwiZG90ZW52IiwicGF0aCIsImNvbmZpZyIsInJlc29sdmUiLCJfX2Rpcm5hbWUiLCJwcmlzbWFDbGllbnRTaW5nbGV0b24iLCIkZXh0ZW5kcyIsInByaXNtYSIsImdsb2JhbCIsInByaXNtYUdsb2JhbCIsInByb2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prismadb.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/rate-limit.ts":
/*!*******************************!*\
  !*** ./src/lib/rate-limit.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkApiLimit: () => (/* binding */ checkApiLimit),\n/* harmony export */   getApiLimitCount: () => (/* binding */ getApiLimitCount),\n/* harmony export */   increaseApiLimit: () => (/* binding */ increaseApiLimit),\n/* harmony export */   rateLimit: () => (/* binding */ rateLimit)\n/* harmony export */ });\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @clerk/nextjs/server */ \"(rsc)/./node_modules/@clerk/nextjs/dist/esm/server/createGetAuth.js\");\n/* harmony import */ var _prismadb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./prismadb */ \"(rsc)/./src/lib/prismadb.ts\");\n//C:\\AI_src\\Companion_UI\\SaaS-AI-Companion\\src\\lib\\rate-limit.ts\n\n\nconst MAX_FREE_COUNTS = parseInt(process.env.MAX_FREE_COUNTS || \"100\", 10);\nconst increaseApiLimit = async (req)=>{\n    const { userId } = (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_1__.getAuth)(req);\n    if (!userId) {\n        return;\n    }\n    try {\n        const userApiLimit = await _prismadb__WEBPACK_IMPORTED_MODULE_0__[\"default\"].userApiLimit.findUnique({\n            where: {\n                userId\n            }\n        });\n        if (userApiLimit) {\n            await _prismadb__WEBPACK_IMPORTED_MODULE_0__[\"default\"].userApiLimit.update({\n                where: {\n                    userId\n                },\n                data: {\n                    count: userApiLimit.count + 1\n                }\n            });\n        } else {\n            await _prismadb__WEBPACK_IMPORTED_MODULE_0__[\"default\"].userApiLimit.create({\n                data: {\n                    userId,\n                    count: 1\n                }\n            });\n        }\n    } catch (error) {\n        console.error(\"Error increasing API limit:\", error);\n    }\n};\nconst checkApiLimit = async (req)=>{\n    const { userId } = (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_1__.getAuth)(req);\n    if (!userId) {\n        return false;\n    }\n    try {\n        const userApiLimit = await _prismadb__WEBPACK_IMPORTED_MODULE_0__[\"default\"].userApiLimit.findUnique({\n            where: {\n                userId\n            }\n        });\n        return !userApiLimit || userApiLimit.count < MAX_FREE_COUNTS;\n    } catch (error) {\n        console.error(\"Error checking API limit:\", error);\n        return false;\n    }\n};\nconst getApiLimitCount = async (req)=>{\n    const { userId } = (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_1__.getAuth)(req);\n    if (!userId) {\n        return 0;\n    }\n    try {\n        const userApiLimit = await _prismadb__WEBPACK_IMPORTED_MODULE_0__[\"default\"].userApiLimit.findUnique({\n            where: {\n                userId\n            }\n        });\n        return userApiLimit ? userApiLimit.count : 0;\n    } catch (error) {\n        console.error(\"Error getting API limit count:\", error);\n        return 0;\n    }\n};\n// Add this function\nconst rateLimit = async (req)=>{\n    const isWithinLimit = await checkApiLimit(req);\n    if (isWithinLimit) {\n        await increaseApiLimit(req);\n        return {\n            success: true\n        };\n    } else {\n        return {\n            success: false\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3JhdGUtbGltaXQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsZ0VBQWdFO0FBRWpCO0FBQ2I7QUFHbEMsTUFBTUUsa0JBQWtCQyxTQUFTQyxRQUFRQyxHQUFHLENBQUNILGVBQWUsSUFBSSxPQUFPO0FBRWhFLE1BQU1JLG1CQUFtQixPQUFPQztJQUNyQyxNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHUiw2REFBT0EsQ0FBQ087SUFFM0IsSUFBSSxDQUFDQyxRQUFRO1FBQ1g7SUFDRjtJQUVBLElBQUk7UUFDRixNQUFNQyxlQUFlLE1BQU1SLGlEQUFRQSxDQUFDUSxZQUFZLENBQUNDLFVBQVUsQ0FBQztZQUMxREMsT0FBTztnQkFBRUg7WUFBTztRQUNsQjtRQUVBLElBQUlDLGNBQWM7WUFDaEIsTUFBTVIsaURBQVFBLENBQUNRLFlBQVksQ0FBQ0csTUFBTSxDQUFDO2dCQUNqQ0QsT0FBTztvQkFBRUg7Z0JBQU87Z0JBQ2hCSyxNQUFNO29CQUFFQyxPQUFPTCxhQUFhSyxLQUFLLEdBQUc7Z0JBQUU7WUFDeEM7UUFDRixPQUFPO1lBQ0wsTUFBTWIsaURBQVFBLENBQUNRLFlBQVksQ0FBQ00sTUFBTSxDQUFDO2dCQUNqQ0YsTUFBTTtvQkFBRUw7b0JBQVFNLE9BQU87Z0JBQUU7WUFDM0I7UUFDRjtJQUNGLEVBQUUsT0FBT0UsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsK0JBQStCQTtJQUMvQztBQUNGLEVBQUU7QUFFSyxNQUFNRSxnQkFBZ0IsT0FBT1g7SUFDbEMsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR1IsNkRBQU9BLENBQUNPO0lBRTNCLElBQUksQ0FBQ0MsUUFBUTtRQUNYLE9BQU87SUFDVDtJQUVBLElBQUk7UUFDRixNQUFNQyxlQUFlLE1BQU1SLGlEQUFRQSxDQUFDUSxZQUFZLENBQUNDLFVBQVUsQ0FBQztZQUMxREMsT0FBTztnQkFBRUg7WUFBTztRQUNsQjtRQUVBLE9BQU8sQ0FBQ0MsZ0JBQWdCQSxhQUFhSyxLQUFLLEdBQUdaO0lBQy9DLEVBQUUsT0FBT2MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsNkJBQTZCQTtRQUMzQyxPQUFPO0lBQ1Q7QUFDRixFQUFFO0FBRUssTUFBTUcsbUJBQW1CLE9BQU9aO0lBQ3JDLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdSLDZEQUFPQSxDQUFDTztJQUUzQixJQUFJLENBQUNDLFFBQVE7UUFDWCxPQUFPO0lBQ1Q7SUFFQSxJQUFJO1FBQ0YsTUFBTUMsZUFBZSxNQUFNUixpREFBUUEsQ0FBQ1EsWUFBWSxDQUFDQyxVQUFVLENBQUM7WUFDMURDLE9BQU87Z0JBQUVIO1lBQU87UUFDbEI7UUFFQSxPQUFPQyxlQUFlQSxhQUFhSyxLQUFLLEdBQUc7SUFDN0MsRUFBRSxPQUFPRSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2hELE9BQU87SUFDVDtBQUNGLEVBQUU7QUFFRixvQkFBb0I7QUFDYixNQUFNSSxZQUFZLE9BQU9iO0lBQzlCLE1BQU1jLGdCQUFnQixNQUFNSCxjQUFjWDtJQUMxQyxJQUFJYyxlQUFlO1FBQ2pCLE1BQU1mLGlCQUFpQkM7UUFDdkIsT0FBTztZQUFFZSxTQUFTO1FBQUs7SUFDekIsT0FBTztRQUNMLE9BQU87WUFBRUEsU0FBUztRQUFNO0lBQzFCO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWNvbXBhbmlvbi8uL3NyYy9saWIvcmF0ZS1saW1pdC50cz84Yzc3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vQzpcXEFJX3NyY1xcQ29tcGFuaW9uX1VJXFxTYWFTLUFJLUNvbXBhbmlvblxcc3JjXFxsaWJcXHJhdGUtbGltaXQudHNcclxuXHJcbmltcG9ydCB7IGdldEF1dGggfSBmcm9tIFwiQGNsZXJrL25leHRqcy9zZXJ2ZXJcIjtcclxuaW1wb3J0IHByaXNtYWRiIGZyb20gXCIuL3ByaXNtYWRiXCI7XHJcbmltcG9ydCB0eXBlIHsgTmV4dFJlcXVlc3QgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuXHJcbmNvbnN0IE1BWF9GUkVFX0NPVU5UUyA9IHBhcnNlSW50KHByb2Nlc3MuZW52Lk1BWF9GUkVFX0NPVU5UUyB8fCBcIjEwMFwiLCAxMCk7XHJcblxyXG5leHBvcnQgY29uc3QgaW5jcmVhc2VBcGlMaW1pdCA9IGFzeW5jIChyZXE6IE5leHRSZXF1ZXN0KTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgY29uc3QgeyB1c2VySWQgfSA9IGdldEF1dGgocmVxKTtcclxuXHJcbiAgaWYgKCF1c2VySWQpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VyQXBpTGltaXQgPSBhd2FpdCBwcmlzbWFkYi51c2VyQXBpTGltaXQuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7IHVzZXJJZCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKHVzZXJBcGlMaW1pdCkge1xyXG4gICAgICBhd2FpdCBwcmlzbWFkYi51c2VyQXBpTGltaXQudXBkYXRlKHtcclxuICAgICAgICB3aGVyZTogeyB1c2VySWQgfSxcclxuICAgICAgICBkYXRhOiB7IGNvdW50OiB1c2VyQXBpTGltaXQuY291bnQgKyAxIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXdhaXQgcHJpc21hZGIudXNlckFwaUxpbWl0LmNyZWF0ZSh7XHJcbiAgICAgICAgZGF0YTogeyB1c2VySWQsIGNvdW50OiAxIH0sXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW5jcmVhc2luZyBBUEkgbGltaXQ6XCIsIGVycm9yKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY2hlY2tBcGlMaW1pdCA9IGFzeW5jIChyZXE6IE5leHRSZXF1ZXN0KTogUHJvbWlzZTxib29sZWFuPiA9PiB7XHJcbiAgY29uc3QgeyB1c2VySWQgfSA9IGdldEF1dGgocmVxKTtcclxuXHJcbiAgaWYgKCF1c2VySWQpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB1c2VyQXBpTGltaXQgPSBhd2FpdCBwcmlzbWFkYi51c2VyQXBpTGltaXQuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7IHVzZXJJZCB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuICF1c2VyQXBpTGltaXQgfHwgdXNlckFwaUxpbWl0LmNvdW50IDwgTUFYX0ZSRUVfQ09VTlRTO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY2hlY2tpbmcgQVBJIGxpbWl0OlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEFwaUxpbWl0Q291bnQgPSBhc3luYyAocmVxOiBOZXh0UmVxdWVzdCk6IFByb21pc2U8bnVtYmVyPiA9PiB7XHJcbiAgY29uc3QgeyB1c2VySWQgfSA9IGdldEF1dGgocmVxKTtcclxuXHJcbiAgaWYgKCF1c2VySWQpIHtcclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVzZXJBcGlMaW1pdCA9IGF3YWl0IHByaXNtYWRiLnVzZXJBcGlMaW1pdC5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHsgdXNlcklkIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdXNlckFwaUxpbWl0ID8gdXNlckFwaUxpbWl0LmNvdW50IDogMDtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgQVBJIGxpbWl0IGNvdW50OlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gMDtcclxuICB9XHJcbn07XHJcblxyXG4vLyBBZGQgdGhpcyBmdW5jdGlvblxyXG5leHBvcnQgY29uc3QgcmF0ZUxpbWl0ID0gYXN5bmMgKHJlcTogTmV4dFJlcXVlc3QpID0+IHtcclxuICBjb25zdCBpc1dpdGhpbkxpbWl0ID0gYXdhaXQgY2hlY2tBcGlMaW1pdChyZXEpO1xyXG4gIGlmIChpc1dpdGhpbkxpbWl0KSB7XHJcbiAgICBhd2FpdCBpbmNyZWFzZUFwaUxpbWl0KHJlcSk7XHJcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgfVxyXG59O1xyXG4iXSwibmFtZXMiOlsiZ2V0QXV0aCIsInByaXNtYWRiIiwiTUFYX0ZSRUVfQ09VTlRTIiwicGFyc2VJbnQiLCJwcm9jZXNzIiwiZW52IiwiaW5jcmVhc2VBcGlMaW1pdCIsInJlcSIsInVzZXJJZCIsInVzZXJBcGlMaW1pdCIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsInVwZGF0ZSIsImRhdGEiLCJjb3VudCIsImNyZWF0ZSIsImVycm9yIiwiY29uc29sZSIsImNoZWNrQXBpTGltaXQiLCJnZXRBcGlMaW1pdENvdW50IiwicmF0ZUxpbWl0IiwiaXNXaXRoaW5MaW1pdCIsInN1Y2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/rate-limit.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@clerk","vendor-chunks/crypto-js","vendor-chunks/tslib","vendor-chunks/@prisma","vendor-chunks/dotenv","vendor-chunks/cookie","vendor-chunks/map-obj","vendor-chunks/no-case","vendor-chunks/lower-case","vendor-chunks/snakecase-keys","vendor-chunks/snake-case","vendor-chunks/dot-case","vendor-chunks/ms","vendor-chunks/zod","vendor-chunks/formdata-node","vendor-chunks/@langchain","vendor-chunks/langchain","vendor-chunks/openai","vendor-chunks/semver","vendor-chunks/zod-to-json-schema","vendor-chunks/langsmith","vendor-chunks/form-data-encoder","vendor-chunks/uuid","vendor-chunks/whatwg-url","vendor-chunks/agentkeepalive","vendor-chunks/retry","vendor-chunks/p-queue","vendor-chunks/js-tiktoken","vendor-chunks/tr46","vendor-chunks/node-fetch","vendor-chunks/mustache","vendor-chunks/js-yaml","vendor-chunks/webidl-conversions","vendor-chunks/web-streams-polyfill","vendor-chunks/p-timeout","vendor-chunks/p-retry","vendor-chunks/p-finally","vendor-chunks/humanize-ms","vendor-chunks/eventemitter3","vendor-chunks/event-target-shim","vendor-chunks/decamelize","vendor-chunks/camelcase","vendor-chunks/base64-js","vendor-chunks/ansi-styles","vendor-chunks/abort-controller"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fchat%2F%5BchatId%5D%2Froute&page=%2Fapi%2Fchat%2F%5BchatId%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fchat%2F%5BchatId%5D%2Froute.ts&appDir=C%3A%5CAI_src%5CCompanion_UI%5CSaaS-AI-Companion%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CAI_src%5CCompanion_UI%5CSaaS-AI-Companion&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();